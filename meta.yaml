{% set name = "csb-pandora" %}
{% set version = "2.0.0beta2.2" %}
{% set build_number = "0" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  git_rev:
  git_url: git@github.com:X-lab-3D/PANDORA.git
  git_tag: master
  #path: .

build:
  number: {{ build_number }}
  entry_points:
    - pandora-fetch = PANDORA.cmd_pandora:cmd_install_database
    - pandora-create = PANDORA.cmd_pandora:cmd_create_database
    - pandora-run = PANDORA.cmd_pandora:cmd_run_pandora
    - pandora-wrapper = PANDORA.cmd_pandora:cmd_run_wrapper
    
  script: "{{ PYTHON }} setup.py install --single-version-externally-managed --record=record.txt"
  #script: {{ PYTHON }} -m pip install . -vv --no-deps --ignore-installed

requirements:
  build:
    - python=3.12
    - setuptools
    - pip
  host:
    - python=3.12

  run:
    - python=3.10.15
    - muscle=5.1
    - blast=2.10
    - numpy=1.26.1
    - numpy-base
    - pip=24.2
    - setuptools=75.1.0
    - joblib=1.3.2
    - pandas=2.1.3
    - python-dateutil=2.8.2
    - biopython=1.82
    - ipython=8.18.1
    - urllib3=1.26.14

about:
  home: https://github.com/X-lab-3D/PANDORA/blob/master/README.md
  license: Apache License 2.0
  summary: "PANDORA is anchor restrained modelling pipeline for generating peptide-MHC structures."
  doc_ulr: https://csb-pandora.readthedocs.io/en/latest/?badge=latest
